{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Desktop\\\\empatica\\\\empatica_delivery\\\\client\\\\components\\\\Downloads.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react'; // the map\n\nimport ReactMapGL, { Marker } from 'react-map-gl'; //make the query\n\nimport gpl from 'graphql-tag';\nimport { Query } from 'react-apollo';\nconst DOWNLOADS_QUERY = gpl`\n  query DownloadsQuery {\n    downloads\n    {\n        app_id\n        longitude\n        latitude\n    }\n  }\n`;\nexport class Downloads extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      viewport: {\n        width: '50vw',\n        height: '50vh',\n        latitude: 45.4211,\n        longitude: -75.6903,\n        zoom: 10\n      }\n    });\n  }\n\n  render() {\n    return __jsx(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, __jsx(Query, {\n      query: DOWNLOADS_QUERY,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, ({\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 48\n        }\n      }, \"Loading ...\");\n      if (error) console.log(error);\n      console.log(data);\n      return __jsx(ReactMapGL, _extends({\n        mapStyle: \"mapbox://styles/mapbox/streets-v9\",\n        mapboxApiAccessToken: \"pk.eyJ1IjoiYWxleGVuYXgiLCJhIjoiY2tiMmVmZ2I4MDZ6dTJ1czBwYnpqOGtxcCJ9.IBNl_OPjhbhwcMbTycNL3w\",\n        mapStyle: \"mapbox://styles/alexenax/ckb2fqmm606pj1ir103dxqxdc\",\n        onViewportChange: viewport => this.setState({\n          viewport\n        })\n      }, this.state.viewport, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 36\n        }\n      }), data.downloads.map(download => __jsx(Marker, {\n        key: download.app_id,\n        latitude: download.longitude,\n        longitude: download.latitude,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 45\n        }\n      }, __jsx(\"button\", {\n        className: \"marker-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 49\n        }\n      }, __jsx(\"img\", {\n        src: \"https://www.empatica.com/assets/images/homepage/empatica_red_heart-icn.svg\",\n        alt: \"Home Icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 49\n        }\n      })))));\n    }));\n  }\n\n}\nexport default Downloads;","map":{"version":3,"sources":["C:/Users/Alex/Desktop/empatica/empatica_delivery/client/components/Downloads.js"],"names":["React","Component","Fragment","ReactMapGL","Marker","gpl","Query","DOWNLOADS_QUERY","Downloads","viewport","width","height","latitude","longitude","zoom","render","loading","error","data","console","log","setState","state","downloads","map","download","app_id"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C,C,CAEA;;AACA,OAAOC,UAAP,IAAoBC,MAApB,QAAiC,cAAjC,C,CAEA;;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAAQC,KAAR,QAAoB,cAApB;AAEA,MAAMC,eAAe,GAAGF,GAAI;;;;;;;;;CAA5B;AAcA,OAAO,MAAMG,SAAN,SAAwBP,SAAxB,CAAkC;AAAA;AAAA;;AAAA,mCAG7B;AACJQ,MAAAA,QAAQ,EAAE;AACVC,QAAAA,KAAK,EAAE,MADG;AAEVC,QAAAA,MAAM,EAAE,MAFE;AAGVC,QAAAA,QAAQ,EAAE,OAHA;AAIVC,QAAAA,SAAS,EAAE,CAAC,OAJF;AAKVC,QAAAA,IAAI,EAAE;AALI;AADN,KAH6B;AAAA;;AAgBrCC,EAAAA,MAAM,GAAG;AACL,WACI,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,KAAD;AAAO,MAAA,KAAK,EAAGR,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,CAAC;AAACS,MAAAA,OAAD;AAAUC,MAAAA,KAAV;AAAiBC,MAAAA;AAAjB,KAAD,KAA4B;AACxB,UAAGF,OAAH,EAAY,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;AACZ,UAAGC,KAAH,EAAUE,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAEVE,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEA,aAAO,MAAC,UAAD;AACK,QAAA,QAAQ,EAAC,mCADd;AAEK,QAAA,oBAAoB,EAAC,4FAF1B;AAGK,QAAA,QAAQ,EAAC,oDAHd;AAIK,QAAA,gBAAgB,EAAGT,QAAD,IAAc,KAAKY,QAAL,CAAc;AAAEZ,UAAAA;AAAF,SAAd;AAJrC,SAKS,KAAKa,KAAL,CAAWb,QALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UASKS,IAAI,CAACK,SAAL,CAAeC,GAAf,CAAmBC,QAAQ,IAEvB,MAAC,MAAD;AAAQ,QAAA,GAAG,EAAEA,QAAQ,CAACC,MAAtB;AACQ,QAAA,QAAQ,EAAED,QAAQ,CAACZ,SAD3B;AAEQ,QAAA,SAAS,EAAEY,QAAQ,CAACb,QAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,GAAG,EAAC,4EAAT;AAAsF,QAAA,GAAG,EAAC,WAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CAJJ,CAFJ,CATL,CAAP;AAwBH,KAhCT,CADJ,CADJ;AAuCH;;AAxDoC;AA2DzC,eAAeJ,SAAf","sourcesContent":["import React, { Component, Fragment} from 'react';\r\n\r\n// the map\r\nimport ReactMapGL, {Marker} from 'react-map-gl';\r\n\r\n//make the query\r\nimport gpl from 'graphql-tag';\r\nimport {Query} from 'react-apollo';\r\n\r\nconst DOWNLOADS_QUERY = gpl`\r\n  query DownloadsQuery {\r\n    downloads\r\n    {\r\n        app_id\r\n        longitude\r\n        latitude\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n \r\n\r\nexport class Downloads extends Component {\r\n\r\n    // Position initial of the map \r\n    state = {\r\n        viewport: {\r\n        width: '50vw',\r\n        height: '50vh',\r\n        latitude: 45.4211,\r\n        longitude: -75.6903,\r\n        zoom: 10\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Query query= {DOWNLOADS_QUERY}>\r\n                    {\r\n                        ({loading, error, data}) => {\r\n                            if(loading) return <p>Loading ...</p>\r\n                            if(error) console.log(error)\r\n                            \r\n                            console.log(data);\r\n\r\n                            return <ReactMapGL\r\n                                        mapStyle=\"mapbox://styles/mapbox/streets-v9\"\r\n                                        mapboxApiAccessToken=\"pk.eyJ1IjoiYWxleGVuYXgiLCJhIjoiY2tiMmVmZ2I4MDZ6dTJ1czBwYnpqOGtxcCJ9.IBNl_OPjhbhwcMbTycNL3w\"\r\n                                        mapStyle=\"mapbox://styles/alexenax/ckb2fqmm606pj1ir103dxqxdc\"\r\n                                        onViewportChange={(viewport) => this.setState({ viewport })}\r\n                                        {...this.state.viewport}\r\n                                    >\r\n                            \r\n                                    {\r\n                                        data.downloads.map(download => (\r\n                                            \r\n                                            <Marker key={download.app_id} \r\n                                                    latitude={download.longitude}\r\n                                                    longitude={download.latitude}\r\n                                            >\r\n                                                <button className=\"marker-btn\">\r\n                                                <img src=\"https://www.empatica.com/assets/images/homepage/empatica_red_heart-icn.svg\" alt=\"Home Icon\"></img>\r\n                                                </button>\r\n                                            </Marker>\r\n                                        ))\r\n                                    \r\n                                    }\r\n                            \r\n                                </ReactMapGL>;\r\n                        }\r\n                    }\r\n                </Query>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Downloads\r\n"]},"metadata":{},"sourceType":"module"}