{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Desktop\\\\empatica\\\\empatica_delivery\\\\client\\\\components\\\\Downloads.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query DownloadsQuery {\\n    downloads\\n    {\\n        app_id\\n        longitude\\n        latitude\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component, Fragment } from 'react'; // the map\n\nimport ReactMapGL, { Marker } from 'react-map-gl'; //make the query\n\nimport gpl from 'graphql-tag';\nimport { Query } from 'react-apollo';\nvar DOWNLOADS_QUERY = gpl(_templateObject()); // Position initial of the map \n\nstate = {\n  viewport: {\n    width: '50vw',\n    height: '50vh',\n    latitude: 45.4211,\n    longitude: -75.6903,\n    zoom: 10\n  }\n};\nexport var Downloads = /*#__PURE__*/function (_Component) {\n  _inherits(Downloads, _Component);\n\n  var _super = _createSuper(Downloads);\n\n  function Downloads() {\n    _classCallCheck(this, Downloads);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Downloads, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return __jsx(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }\n      }, __jsx(Query, {\n        query: DOWNLOADS_QUERY,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, function (_ref) {\n        var _extends2;\n\n        var loading = _ref.loading,\n            error = _ref.error,\n            data = _ref.data;\n        if (loading) return __jsx(\"p\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 48\n          }\n        }, \"Loading ...\");\n        if (error) console.log(error);\n        console.log(data);\n        return __jsx(ReactMapGL, _extends((_extends2 = {\n          mapStyle: \"mapbox://styles/mapbox/streets-v9\",\n          mapboxApiAccessToken: \"pk.eyJ1IjoiYWxleGVuYXgiLCJhIjoiY2tiMmVmZ2I4MDZ6dTJ1czBwYnpqOGtxcCJ9.IBNl_OPjhbhwcMbTycNL3w\"\n        }, _defineProperty(_extends2, \"mapStyle\", \"mapbox://styles/alexenax/ckb2fqmm606pj1ir103dxqxdc\"), _defineProperty(_extends2, \"onViewportChange\", function onViewportChange(viewport) {\n          return _this.setState({\n            viewport: viewport\n          });\n        }), _extends2), _this.state.viewport, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 36\n          }\n        }), data.downloads.map(function (download) {\n          return __jsx(Marker, {\n            key: download.app_id,\n            latitude: download.longitude,\n            longitude: download.latitude,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 45\n            }\n          }, __jsx(\"button\", {\n            className: \"marker-btn\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 49\n            }\n          }, __jsx(\"img\", {\n            src: \"/home.svg\",\n            alt: \"Home Icon\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 49\n            }\n          })));\n        }));\n      }));\n    }\n  }]);\n\n  return Downloads;\n}(Component);\nexport default downloads;","map":{"version":3,"sources":["C:/Users/Alex/Desktop/empatica/empatica_delivery/client/components/Downloads.js"],"names":["React","Component","Fragment","ReactMapGL","Marker","gpl","Query","DOWNLOADS_QUERY","state","viewport","width","height","latitude","longitude","zoom","Downloads","loading","error","data","console","log","setState","downloads","map","download","app_id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C,C,CAEA;;AACA,OAAOC,UAAP,IAAoBC,MAApB,QAAiC,cAAjC,C,CAEA;;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAAQC,KAAR,QAAoB,cAApB;AAEA,IAAMC,eAAe,GAAGF,GAAH,mBAArB,C,CAYC;;AACDG,KAAK,GAAG;AACFC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,KAAK,EAAE,MADC;AAERC,IAAAA,MAAM,EAAE,MAFA;AAGRC,IAAAA,QAAQ,EAAE,OAHF;AAIRC,IAAAA,SAAS,EAAE,CAAC,OAJJ;AAKRC,IAAAA,IAAI,EAAE;AALE;AADR,CAAR;AAWA,WAAaC,SAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BACa;AAAA;;AACL,aACI,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,KAAD;AAAO,QAAA,KAAK,EAAGR,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ,gBAA4B;AAAA;;AAAA,YAA1BS,OAA0B,QAA1BA,OAA0B;AAAA,YAAjBC,KAAiB,QAAjBA,KAAiB;AAAA,YAAVC,IAAU,QAAVA,IAAU;AACxB,YAAGF,OAAH,EAAY,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAP;AACZ,YAAGC,KAAH,EAAUE,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAEVE,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEA,eAAO,MAAC,UAAD;AACK,UAAA,QAAQ,EAAC,mCADd;AAEK,UAAA,oBAAoB,EAAC;AAF1B,kDAGc,oDAHd,kDAIuB,0BAACT,QAAD;AAAA,iBAAc,KAAI,CAACY,QAAL,CAAc;AAAEZ,YAAAA,QAAQ,EAARA;AAAF,WAAd,CAAd;AAAA,SAJvB,eAKS,KAAI,CAACD,KAAL,CAAWC,QALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YASKS,IAAI,CAACI,SAAL,CAAeC,GAAf,CAAmB,UAAAC,QAAQ;AAAA,iBAEvB,MAAC,MAAD;AAAQ,YAAA,GAAG,EAAEA,QAAQ,CAACC,MAAtB;AACQ,YAAA,QAAQ,EAAED,QAAQ,CAACX,SAD3B;AAEQ,YAAA,SAAS,EAAEW,QAAQ,CAACZ,QAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAII;AAAQ,YAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAK,YAAA,GAAG,EAAC,WAAT;AAAqB,YAAA,GAAG,EAAC,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,CAJJ,CAFuB;AAAA,SAA3B,CATL,CAAP;AAwBH,OAhCT,CADJ,CADJ;AAuCH;AAzCL;;AAAA;AAAA,EAA+BX,SAA/B;AA4CA,eAAeqB,SAAf","sourcesContent":["import React, { Component, Fragment} from 'react';\r\n\r\n// the map\r\nimport ReactMapGL, {Marker} from 'react-map-gl';\r\n\r\n//make the query\r\nimport gpl from 'graphql-tag';\r\nimport {Query} from 'react-apollo';\r\n\r\nconst DOWNLOADS_QUERY = gpl`\r\n  query DownloadsQuery {\r\n    downloads\r\n    {\r\n        app_id\r\n        longitude\r\n        latitude\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n // Position initial of the map \r\nstate = {\r\n      viewport: {\r\n        width: '50vw',\r\n        height: '50vh',\r\n        latitude: 45.4211,\r\n        longitude: -75.6903,\r\n        zoom: 10\r\n      }\r\n  \r\n    };\r\n\r\nexport class Downloads extends Component {\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Query query= {DOWNLOADS_QUERY}>\r\n                    {\r\n                        ({loading, error, data}) => {\r\n                            if(loading) return <p>Loading ...</p>\r\n                            if(error) console.log(error)\r\n                            \r\n                            console.log(data);\r\n\r\n                            return <ReactMapGL\r\n                                        mapStyle=\"mapbox://styles/mapbox/streets-v9\"\r\n                                        mapboxApiAccessToken=\"pk.eyJ1IjoiYWxleGVuYXgiLCJhIjoiY2tiMmVmZ2I4MDZ6dTJ1czBwYnpqOGtxcCJ9.IBNl_OPjhbhwcMbTycNL3w\"\r\n                                        mapStyle=\"mapbox://styles/alexenax/ckb2fqmm606pj1ir103dxqxdc\"\r\n                                        onViewportChange={(viewport) => this.setState({ viewport })}\r\n                                        {...this.state.viewport}\r\n                                    >\r\n                            \r\n                                    {\r\n                                        data.downloads.map(download => (\r\n                                            \r\n                                            <Marker key={download.app_id} \r\n                                                    latitude={download.longitude}\r\n                                                    longitude={download.latitude}\r\n                                            >\r\n                                                <button className=\"marker-btn\">\r\n                                                <img src=\"/home.svg\" alt=\"Home Icon\"></img>\r\n                                                </button>\r\n                                            </Marker>\r\n                                        ))\r\n                                    \r\n                                    }\r\n                            \r\n                                </ReactMapGL>;\r\n                        }\r\n                    }\r\n                </Query>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default downloads\r\n"]},"metadata":{},"sourceType":"module"}