{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Desktop\\\\empatica\\\\empatica_delivery\\\\client\\\\components\\\\Nation.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nvar urls = [];\nvar baseURL = \"https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\";\nvar nations = [];\n\nvar Nation = /*#__PURE__*/function (_React$Component) {\n  _inherits(Nation, _React$Component);\n\n  var _super = _createSuper(Nation);\n\n  function Nation() {\n    var _this;\n\n    _classCallCheck(this, Nation);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: true,\n      nations: null\n    });\n\n    return _this;\n  }\n\n  _createClass(Nation, [{\n    key: \"componentDidMount\",\n\n    /*\r\n    state = {\r\n      loading: true,\r\n      person: null\r\n    };\r\n        async componentDidMount() {\r\n      const url = \"https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\";\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n        this.setState({ person: data.results[0].address_components[6], loading: false });\r\n    }\r\n        render() \r\n    {\r\n      if (this.state.loading) {\r\n        return <div>loading...</div>;\r\n      }\r\n          if (!this.state.person) {\r\n        return <div>didn't get a person</div>;\r\n      }\r\n          return (\r\n        <div>\r\n          <div>{this.state.person.long_name}</div>\r\n          <div>{this.props.data.downloads[1].app_id}.</div>\r\n        </div>\r\n      );\r\n    }\r\n      */\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var promises;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.props.data.downloads.map(function (download) {\n                  return urls.push(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + download.longitude + \",\" + download.latitude + \"&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\");\n                });\n                promises = Promise.all(urls.map(function (url) {\n                  return fetch(url);\n                }));\n                promises.then(function (results) {\n                  return Promise.all(results.map(function (r) {\n                    return r.json();\n                  }));\n                }).then(function (res) {\n                  return _this2.setState({\n                    nations: res,\n                    loading: false\n                  });\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      /*\r\n      // The urls that query the Google API\r\n      this.props.data.downloads.map(download => (\r\n          urls.push(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\"+ download.longitude + \",\"+ download.latitude + \"&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\")\r\n      ))\r\n      \r\n      \r\n      var promises = Promise.all(urls.map(url => (\r\n          fetch(url)\r\n      )))\r\n        promises\r\n          .then((results) =>\r\n              Promise.all(results.map(r => r.json()))\r\n          )\r\n          .then((res) =>(\r\n              res.map(n => \r\n                  (\r\n                     console.log(n.results)\r\n                      \r\n                  ))\r\n          ))\r\n      */\n\n      /*\r\n      promises\r\n      .then((results) =>\r\n          Promise.all(results.map(r => r.json()\r\n              ))\r\n      )\r\n      .then((res) => (res.map(n =>(\r\n        ))\r\n      ))*/\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }\n      }, \" \", this.state, \" \"));\n      /*\r\n      if (this.state.loading) {\r\n      return <div>loading...</div>;\r\n      }\r\n          if (!this.state.person) {\r\n          return <div>didn't get a person</div>;\r\n      }\r\n          return (\r\n          <div>\r\n          <div>{this.state.person.long_name}</div>\r\n          <div>{this.props.data.downloads[1].app_id}.</div>\r\n          </div>\r\n      );*/\n    }\n  }]);\n\n  return Nation;\n}(React.Component);\n\nexport { Nation as default };","map":{"version":3,"sources":["C:/Users/Alex/Desktop/empatica/empatica_delivery/client/components/Nation.js"],"names":["React","urls","baseURL","nations","Nation","loading","props","data","downloads","map","download","push","longitude","latitude","promises","Promise","all","url","fetch","then","results","r","json","res","setState","state","Component"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,IAAMC,IAAI,GAAG,EAAb;AACA,IAAMC,OAAO,GAAE,2HAAf;AACA,IAAMC,OAAO,GAAE,EAAf;;IAEqBC,M;;;;;;;;;;;;;;;;4DAET;AACJC,MAAAA,OAAO,EAAE,IADL;AAEJF,MAAAA,OAAO,EAAE;AAFL,K;;;;;;;;AAOR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,qBAAKG,KAAL,CAAWC,IAAX,CAAgBC,SAAhB,CAA0BC,GAA1B,CAA8B,UAAAC,QAAQ;AAAA,yBAClCT,IAAI,CAACU,IAAL,CAAU,8DAA6DD,QAAQ,CAACE,SAAtE,GAAkF,GAAlF,GAAuFF,QAAQ,CAACG,QAAhG,GAA2G,8CAArH,CADkC;AAAA,iBAAtC;AAIIC,gBAAAA,Q,GAAWC,OAAO,CAACC,GAAR,CAAYf,IAAI,CAACQ,GAAL,CAAS,UAAAQ,GAAG;AAAA,yBACnCC,KAAK,CAACD,GAAD,CAD8B;AAAA,iBAAZ,CAAZ,C;AAIfH,gBAAAA,QAAQ,CACHK,IADL,CACU,UAACC,OAAD;AAAA,yBACFL,OAAO,CAACC,GAAR,CAAYI,OAAO,CAACX,GAAR,CAAY,UAAAY,CAAC;AAAA,2BAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,mBAAb,CAAZ,CADE;AAAA,iBADV,EAIKH,IAJL,CAIU,UAACI,GAAD;AAAA,yBAAS,MAAI,CAACC,QAAL,CAAc;AAACrB,oBAAAA,OAAO,EAAEoB,GAAV;AAAelB,oBAAAA,OAAO,EAAE;AAAxB,mBAAd,CAAT;AAAA,iBAJV;;;;;;;;;;;;;;;;;;6BAUA;AACI;;;;;;;;;;;;;;;;;;;;;;;AA2BI;;;;;;;;;AAYJ,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAK,KAAKoB,KAAV,MAHZ,CADJ;AASA;;;;;;;;;;;;;AAeH;;;;EA/H+BzB,KAAK,CAAC0B,S;;SAArBtB,M","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst urls = [];\r\nconst baseURL =\"https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\";\r\nconst nations =[];\r\n\r\nexport default class Nation extends React.Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        nations: null\r\n      };\r\n\r\n    \r\n\r\n    /*\r\n    state = {\r\n      loading: true,\r\n      person: null\r\n    };\r\n  \r\n    async componentDidMount() {\r\n      const url = \"https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\";\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      this.setState({ person: data.results[0].address_components[6], loading: false });\r\n    }\r\n  \r\n    render() \r\n    {\r\n      if (this.state.loading) {\r\n        return <div>loading...</div>;\r\n      }\r\n  \r\n      if (!this.state.person) {\r\n        return <div>didn't get a person</div>;\r\n      }\r\n  \r\n      return (\r\n        <div>\r\n          <div>{this.state.person.long_name}</div>\r\n          <div>{this.props.data.downloads[1].app_id}.</div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    */\r\n\r\nasync componentDidMount() \r\n{\r\n    this.props.data.downloads.map(download => (\r\n        urls.push(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\"+ download.longitude + \",\"+ download.latitude + \"&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\")\r\n    ))  \r\n\r\n    var promises = Promise.all(urls.map(url => (\r\n        fetch(url)\r\n    )))\r\n\r\n    promises\r\n        .then((results) =>\r\n            Promise.all(results.map(r => r.json()))\r\n        )\r\n        .then((res) => this.setState({nations: res, loading: false}))\r\n        \r\n}\r\n\r\n\r\n    render()\r\n    {\r\n        /*\r\n        // The urls that query the Google API\r\n        this.props.data.downloads.map(download => (\r\n            urls.push(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\"+ download.longitude + \",\"+ download.latitude + \"&key=AIzaSyD8g2ang82_R7aQG8AdVAJg4jkQ52-cp4E\")\r\n        ))\r\n        \r\n        \r\n        var promises = Promise.all(urls.map(url => (\r\n            fetch(url)\r\n        )))\r\n\r\n        promises\r\n            .then((results) =>\r\n                Promise.all(results.map(r => r.json()))\r\n            )\r\n            .then((res) =>(\r\n                res.map(n => \r\n                    (\r\n\r\n                     console.log(n.results)\r\n                        \r\n                    ))\r\n            ))\r\n        */\r\n    \r\n\r\n\r\n            /*\r\n            promises\r\n            .then((results) =>\r\n                Promise.all(results.map(r => r.json()\r\n                    ))\r\n            )\r\n            .then((res) => (res.map(n =>(\r\n\r\n            ))\r\n            ))*/\r\n\r\n\r\n        return (\r\n            <div>\r\n                    \r\n\r\n                        <p> {this.state} </p>\r\n                \r\n              \r\n            </div>\r\n        )\r\n        /*\r\n        if (this.state.loading) {\r\n        return <div>loading...</div>;\r\n      }\r\n  \r\n        if (!this.state.person) {\r\n            return <div>didn't get a person</div>;\r\n        }\r\n  \r\n        return (\r\n            <div>\r\n            <div>{this.state.person.long_name}</div>\r\n            <div>{this.props.data.downloads[1].app_id}.</div>\r\n            </div>\r\n        );*/\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}